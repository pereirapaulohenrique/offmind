@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* =============================================================================
   OffMind Design System — ZEN FLOW

   Philosophy: Spatial minimalism. Floating islands. Ambient intelligence.
   Every element breathes. Nothing is caged. Depth through shadow, not borders.

   Inspired by: Apple spatial computing · Arc Browser · Linear · Figma

   The core idea: UI elements float in space like thoughts in a calm mind.
   Borders are mostly eliminated. Depth is created through layered shadows.
   Color is ambient — the environment subtly shifts based on context.
============================================================================= */

:root {
  /* ═══════════════════════════════════════════════════════════════════════
     DARK MODE (Default) — Deep void with floating luminous elements
     ═══════════════════════════════════════════════════════════════════════ */

  /* Background Layers — 7-level void depth system
     Nearly black, with very slight blue undertone for screen comfort */
  --bg-base: #08080c;
  --bg-inset: #0c0c11;
  --bg-surface: #111116;
  --bg-elevated: #17171d;
  --bg-hover: #1c1c23;
  --bg-active: #24242c;
  --bg-overlay: #2a2a33;

  /* Borders — Nearly invisible. Zen Flow uses shadows, not borders.
     When borders exist, they're barely perceptible whispers. */
  --border-subtle: rgba(255, 255, 255, 0.04);
  --border-default: rgba(255, 255, 255, 0.06);
  --border-emphasis: rgba(255, 255, 255, 0.10);
  --border-focus: rgba(45, 212, 191, 0.40);

  /* Text — Cool, crisp whites. High contrast for readability. */
  --text-primary: #f0f0f4;
  --text-secondary: #94949e;
  --text-muted: #5c5c68;
  --text-disabled: #3a3a44;

  /* Accent (Teal — OffMind brand)
     Slightly cooler and more saturated for Zen aesthetic */
  --accent-base: #2dd4bf;
  --accent-hover: #5eead4;
  --accent-active: #14b8a6;
  --accent-subtle: rgba(45, 212, 191, 0.06);
  --accent-border: rgba(45, 212, 191, 0.15);
  --accent-glow: rgba(45, 212, 191, 0.04);

  /* Semantic Colors — Softer, calmer versions */
  --success: #34d399;
  --success-subtle: rgba(52, 211, 153, 0.08);
  --warning: #fbbf24;
  --warning-subtle: rgba(251, 191, 36, 0.08);
  --error: #fb7185;
  --error-subtle: rgba(251, 113, 133, 0.08);
  --info: #60a5fa;
  --info-subtle: rgba(96, 165, 250, 0.08);

  /* Destination Colors */
  --destination-backlog: #60a5fa;
  --destination-reference: #a78bfa;
  --destination-incubating: #fbbf24;
  --destination-someday: #6b7280;
  --destination-questions: #f472b6;
  --destination-waiting: #fb923c;
  --destination-trash: #fb7185;

  /* Layer Colors — Ambient tints that color the entire environment */
  --layer-capture: #60a5fa;
  --layer-capture-bg: rgba(96, 165, 250, 0.04);
  --layer-capture-border: rgba(96, 165, 250, 0.10);
  --layer-capture-glow: rgba(96, 165, 250, 0.12);
  --layer-process: #fbbf24;
  --layer-process-bg: rgba(251, 191, 36, 0.04);
  --layer-process-border: rgba(251, 191, 36, 0.10);
  --layer-process-glow: rgba(251, 191, 36, 0.12);
  --layer-commit: #34d399;
  --layer-commit-bg: rgba(52, 211, 153, 0.04);
  --layer-commit-border: rgba(52, 211, 153, 0.10);
  --layer-commit-glow: rgba(52, 211, 153, 0.12);

  /* Typography Scale — Bigger display sizes for spatial presence */
  --text-xs: 0.6875rem;
  --text-sm: 0.8125rem;
  --text-base: 0.9375rem;
  --text-lg: 1.0625rem;
  --text-xl: 1.3125rem;
  --text-2xl: 1.625rem;
  --text-3xl: 2.25rem;
  --text-4xl: 3rem;
  --text-display: 4.5rem;

  /* Letter Spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.03em;
  --tracking-normal: -0.015em;
  --tracking-wide: 0.02em;
  --tracking-widest: 0.08em;

  /* Spacing — Generous. The Zen way is space. */
  --space-page-x: 2rem;
  --space-page-y: 2rem;
  --space-section: 4rem;
  --space-card: 1.5rem;
  --space-stack: 0.5rem;

  /* Animation — Fluid springs. Natural. Organic. */
  --duration-instant: 60ms;
  --duration-fast: 120ms;
  --duration-normal: 200ms;
  --duration-slow: 350ms;
  --duration-slower: 600ms;
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-soft: cubic-bezier(0.25, 0.1, 0.25, 1);

  /* Layout */
  --sidebar-width: 260px;
  --sidebar-collapsed: 72px;
  --header-height: 52px;
  --capture-bar-height: 72px;
  --content-max-width: 1120px;

  /* Radius — Large, soft, organic */
  --radius: 0.875rem;

  /* ═══════════════════════════════════════════════════════════════════════
     THE ZEN SHADOW SYSTEM

     No borders. Only layered shadows create depth.
     Each shadow uses 3-4 layers: ambient, edge, spread, highlight.
     This is the defining characteristic of Zen Flow.
     ═══════════════════════════════════════════════════════════════════════ */
  --shadow-xs:
    0 1px 2px rgba(0, 0, 0, 0.12),
    0 0 1px rgba(0, 0, 0, 0.08);
  --shadow-sm:
    0 1px 3px rgba(0, 0, 0, 0.16),
    0 1px 2px rgba(0, 0, 0, 0.10),
    0 0 0 0.5px rgba(255, 255, 255, 0.03);
  --shadow-md:
    0 4px 12px rgba(0, 0, 0, 0.20),
    0 1px 3px rgba(0, 0, 0, 0.12),
    0 0 0 0.5px rgba(255, 255, 255, 0.03);
  --shadow-lg:
    0 8px 24px rgba(0, 0, 0, 0.28),
    0 2px 6px rgba(0, 0, 0, 0.16),
    0 0 0 0.5px rgba(255, 255, 255, 0.04);
  --shadow-xl:
    0 16px 48px rgba(0, 0, 0, 0.36),
    0 4px 12px rgba(0, 0, 0, 0.20),
    0 0 0 0.5px rgba(255, 255, 255, 0.04);
  --shadow-card:
    0 2px 8px rgba(0, 0, 0, 0.18),
    0 0 0 0.5px rgba(255, 255, 255, 0.04),
    0 0 1px rgba(0, 0, 0, 0.12);
  --shadow-card-hover:
    0 8px 32px rgba(0, 0, 0, 0.28),
    0 2px 8px rgba(0, 0, 0, 0.16),
    0 0 0 0.5px rgba(255, 255, 255, 0.06);
  --shadow-float:
    0 24px 80px rgba(0, 0, 0, 0.40),
    0 8px 24px rgba(0, 0, 0, 0.24),
    0 0 0 0.5px rgba(255, 255, 255, 0.05);
  --shadow-glow:
    0 0 40px rgba(45, 212, 191, 0.08),
    0 0 0 1px rgba(45, 212, 191, 0.10),
    0 8px 32px rgba(0, 0, 0, 0.24);

  /* Gradients */
  --gradient-accent: linear-gradient(135deg, #2dd4bf, #22d3ee);
  --gradient-subtle: linear-gradient(180deg, rgba(45, 212, 191, 0.04), transparent);
  --gradient-surface: linear-gradient(180deg, var(--bg-surface), var(--bg-base));

  /* shadcn/ui Variables */
  --background: #08080c;
  --foreground: #f0f0f4;
  --card: #111116;
  --card-foreground: #f0f0f4;
  --popover: #17171d;
  --popover-foreground: #f0f0f4;
  --primary: #2dd4bf;
  --primary-foreground: #08080c;
  --secondary: #1c1c23;
  --secondary-foreground: #f0f0f4;
  --muted: #1c1c23;
  --muted-foreground: #94949e;
  --accent: #1c1c23;
  --accent-foreground: #f0f0f4;
  --destructive: #fb7185;
  --destructive-foreground: #ffffff;
  --border: rgba(255, 255, 255, 0.06);
  --input: #17171d;
  --ring: #2dd4bf;

  /* Chart Colors */
  --chart-1: #2dd4bf;
  --chart-2: #34d399;
  --chart-3: #fbbf24;
  --chart-4: #f472b6;
  --chart-5: #a78bfa;

  /* Sidebar — Slightly elevated from base, floating */
  --sidebar: #0a0a0f;
  --sidebar-foreground: #f0f0f4;
  --sidebar-primary: #2dd4bf;
  --sidebar-primary-foreground: #08080c;
  --sidebar-accent: rgba(255, 255, 255, 0.04);
  --sidebar-accent-foreground: #f0f0f4;
  --sidebar-border: rgba(255, 255, 255, 0.04);
  --sidebar-ring: #2dd4bf;
}

/* ═══════════════════════════════════════════════════════════════════════════
   LIGHT MODE — Bright, airy, ethereal. Like clouds.
   ═══════════════════════════════════════════════════════════════════════════ */
.light {
  --bg-base: #f8f9fc;
  --bg-inset: #f2f3f7;
  --bg-surface: #ffffff;
  --bg-elevated: #ffffff;
  --bg-hover: #f0f1f5;
  --bg-active: #e8e9ee;
  --bg-overlay: #dddee4;

  --border-subtle: rgba(0, 0, 0, 0.04);
  --border-default: rgba(0, 0, 0, 0.06);
  --border-emphasis: rgba(0, 0, 0, 0.10);
  --border-focus: rgba(13, 148, 136, 0.40);

  --text-primary: #111118;
  --text-secondary: #5c5c6e;
  --text-muted: #8e8e9e;
  --text-disabled: #c0c0cc;

  --accent-base: #0d9488;
  --accent-hover: #14b8a6;
  --accent-active: #0f766e;
  --accent-subtle: rgba(13, 148, 136, 0.04);
  --accent-border: rgba(13, 148, 136, 0.12);
  --accent-glow: rgba(13, 148, 136, 0.06);

  --layer-capture-bg: rgba(96, 165, 250, 0.05);
  --layer-capture-border: rgba(96, 165, 250, 0.12);
  --layer-process-bg: rgba(251, 191, 36, 0.05);
  --layer-process-border: rgba(251, 191, 36, 0.12);
  --layer-commit-bg: rgba(52, 211, 153, 0.05);
  --layer-commit-border: rgba(52, 211, 153, 0.12);

  /* Light mode Zen shadows — soft, diffused, dreamy */
  --shadow-xs:
    0 1px 2px rgba(0, 0, 0, 0.03);
  --shadow-sm:
    0 1px 4px rgba(0, 0, 0, 0.04),
    0 0 1px rgba(0, 0, 0, 0.02);
  --shadow-md:
    0 4px 16px rgba(0, 0, 0, 0.05),
    0 1px 4px rgba(0, 0, 0, 0.03);
  --shadow-lg:
    0 8px 32px rgba(0, 0, 0, 0.06),
    0 2px 8px rgba(0, 0, 0, 0.03);
  --shadow-xl:
    0 16px 56px rgba(0, 0, 0, 0.08),
    0 4px 16px rgba(0, 0, 0, 0.04);
  --shadow-card:
    0 2px 12px rgba(0, 0, 0, 0.04),
    0 0 0 0.5px rgba(0, 0, 0, 0.03);
  --shadow-card-hover:
    0 8px 40px rgba(0, 0, 0, 0.06),
    0 2px 12px rgba(0, 0, 0, 0.04);
  --shadow-float:
    0 24px 80px rgba(0, 0, 0, 0.08),
    0 8px 24px rgba(0, 0, 0, 0.05);
  --shadow-glow:
    0 0 40px rgba(13, 148, 136, 0.05),
    0 0 0 1px rgba(13, 148, 136, 0.08),
    0 8px 32px rgba(0, 0, 0, 0.04);

  /* shadcn/ui Variables - Light */
  --background: #f8f9fc;
  --foreground: #111118;
  --card: #ffffff;
  --card-foreground: #111118;
  --popover: #ffffff;
  --popover-foreground: #111118;
  --primary: #0d9488;
  --primary-foreground: #ffffff;
  --secondary: #f0f1f5;
  --secondary-foreground: #111118;
  --muted: #f0f1f5;
  --muted-foreground: #5c5c6e;
  --accent: #f0f1f5;
  --accent-foreground: #111118;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.06);
  --input: #f0f1f5;
  --ring: #0d9488;

  --chart-1: #0d9488;

  --sidebar: #f4f5f9;
  --sidebar-foreground: #111118;
  --sidebar-primary: #0d9488;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: rgba(0, 0, 0, 0.03);
  --sidebar-accent-foreground: #111118;
  --sidebar-border: rgba(0, 0, 0, 0.04);
  --sidebar-ring: #0d9488;
}

.dark {
  --background: #08080c;
  --foreground: #f0f0f4;
  --card: #111116;
  --card-foreground: #f0f0f4;
  --popover: #17171d;
  --popover-foreground: #f0f0f4;
  --primary: #2dd4bf;
  --primary-foreground: #08080c;
  --secondary: #1c1c23;
  --secondary-foreground: #f0f0f4;
  --muted: #1c1c23;
  --muted-foreground: #94949e;
  --accent: #1c1c23;
  --accent-foreground: #f0f0f4;
  --destructive: #fb7185;
  --destructive-foreground: #ffffff;
  --border: rgba(255, 255, 255, 0.06);
  --input: #17171d;
  --ring: #2dd4bf;

  --sidebar: #0a0a0f;
  --sidebar-foreground: #f0f0f4;
  --sidebar-primary: #2dd4bf;
  --sidebar-primary-foreground: #08080c;
  --sidebar-accent: rgba(255, 255, 255, 0.04);
  --sidebar-accent-foreground: #f0f0f4;
  --sidebar-border: rgba(255, 255, 255, 0.04);
  --sidebar-ring: #2dd4bf;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TAILWIND v4 THEME EXTENSIONS
   ═══════════════════════════════════════════════════════════════════════════ */
@theme inline {
  --color-base: var(--bg-base);
  --color-inset: var(--bg-inset);
  --color-surface: var(--bg-surface);
  --color-elevated: var(--bg-elevated);
  --color-hover: var(--bg-hover);
  --color-active: var(--bg-active);
  --color-overlay: var(--bg-overlay);

  --color-subtle: var(--border-subtle);
  --color-emphasis: var(--border-emphasis);

  --color-primary-text: var(--text-primary);
  --color-secondary-text: var(--text-secondary);
  --color-muted-text: var(--text-muted);
  --color-disabled-text: var(--text-disabled);

  --color-accent-base: var(--accent-base);
  --color-accent-hover: var(--accent-hover);
  --color-accent-active: var(--accent-active);
  --color-accent-subtle: var(--accent-subtle);

  --color-success: var(--success);
  --color-success-subtle: var(--success-subtle);
  --color-warning: var(--warning);
  --color-warning-subtle: var(--warning-subtle);
  --color-error: var(--error);
  --color-error-subtle: var(--error-subtle);
  --color-info: var(--info);
  --color-info-subtle: var(--info-subtle);

  --color-backlog: var(--destination-backlog);
  --color-reference: var(--destination-reference);
  --color-incubating: var(--destination-incubating);
  --color-someday: var(--destination-someday);
  --color-questions: var(--destination-questions);
  --color-waiting: var(--destination-waiting);
  --color-trash: var(--destination-trash);

  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, 'Fira Code', monospace;

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
}

/* ═══════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════════════════ */
html {
  color-scheme: dark;
  scroll-behavior: smooth;
}

html.light {
  color-scheme: light;
}

body {
  font-family: var(--font-sans);
  letter-spacing: var(--tracking-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Focus — Minimal, clean ring */
:focus-visible {
  outline: 2px solid var(--accent-base);
  outline-offset: 3px;
  border-radius: var(--radius-sm);
}

:focus:not(:focus-visible) {
  outline: none;
}

/* Scrollbar — Near-invisible until hovered */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 6px;
  transition: background 0.2s;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--border-emphasis);
}

*:hover > ::-webkit-scrollbar-thumb {
  background: var(--border-default);
}

/* Selection — Subtle teal highlight */
::selection {
  background-color: rgba(45, 212, 191, 0.15);
  color: var(--text-primary);
}

.container {
  width: 100%;
  max-width: 1280px;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ZEN FLOW UTILITY CLASSES
   ═══════════════════════════════════════════════════════════════════════════ */

/* ── ZEN CARD ──
   The signature Zen Flow card: no visible border, floats with shadow alone.
   On hover, it rises and the shadow deepens. */
.zen-card {
  background: var(--bg-surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-card);
  border: none;
  transition:
    box-shadow var(--duration-slow) var(--ease-out-expo),
    transform var(--duration-slow) var(--ease-out-expo);
}

.zen-card:hover {
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-2px);
}

.zen-card:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* ── ZEN GLOW ──
   Ambient accent glow for primary interactive elements */
.zen-glow {
  box-shadow: var(--shadow-glow);
}

.zen-glow:hover {
  box-shadow:
    0 0 60px rgba(45, 212, 191, 0.10),
    0 0 0 1px rgba(45, 212, 191, 0.15),
    0 12px 40px rgba(0, 0, 0, 0.28);
}

/* ── AMBIENT BACKGROUNDS ──
   Subtle environmental coloring based on current layer */
.ambient-capture {
  background-image: radial-gradient(
    ellipse 80% 60% at 50% 0%,
    rgba(96, 165, 250, 0.03),
    transparent
  );
}

.ambient-process {
  background-image: radial-gradient(
    ellipse 80% 60% at 50% 0%,
    rgba(251, 191, 36, 0.02),
    transparent
  );
}

.ambient-commit {
  background-image: radial-gradient(
    ellipse 80% 60% at 50% 0%,
    rgba(52, 211, 153, 0.03),
    transparent
  );
}

/* ── FLOW TRANSITION ──
   Smooth spring-like transitions for page elements */
.flow-transition {
  transition: all var(--duration-slow) var(--ease-out-expo);
}

.flow-transition-fast {
  transition: all var(--duration-normal) var(--ease-out-expo);
}

/* ── GLASS ──
   Premium frosted glass for overlays and floating panels */
.glass {
  background: rgba(8, 8, 12, 0.75);
  backdrop-filter: blur(40px) saturate(200%);
  -webkit-backdrop-filter: blur(40px) saturate(200%);
}

.light .glass {
  background: rgba(248, 249, 252, 0.80);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
}

/* ── GRADIENT MESH ──
   Multi-layered ambient background for hero/special sections */
.gradient-mesh {
  background-image:
    radial-gradient(ellipse at 20% 20%, rgba(45, 212, 191, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 10%, rgba(96, 165, 250, 0.04) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 80%, rgba(52, 211, 153, 0.03) 0%, transparent 50%),
    radial-gradient(ellipse at 90% 70%, rgba(168, 85, 247, 0.02) 0%, transparent 40%);
}

.light .gradient-mesh {
  background-image:
    radial-gradient(ellipse at 20% 20%, rgba(13, 148, 136, 0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 10%, rgba(96, 165, 250, 0.03) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 80%, rgba(52, 211, 153, 0.02) 0%, transparent 50%),
    radial-gradient(ellipse at 90% 70%, rgba(168, 85, 247, 0.015) 0%, transparent 40%);
}

/* ── ANIMATED GRADIENT MESH ──
   Slowly drifting ambient colors for hero sections */
@keyframes mesh-drift {
  0%, 100% {
    background-position: 0% 50%;
  }
  25% {
    background-position: 100% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
  75% {
    background-position: 0% 100%;
  }
}

.gradient-mesh-animated {
  background-size: 200% 200%;
  background-image:
    radial-gradient(ellipse at 20% 20%, rgba(45, 212, 191, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 10%, rgba(96, 165, 250, 0.05) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 80%, rgba(52, 211, 153, 0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 90% 70%, rgba(168, 85, 247, 0.03) 0%, transparent 40%);
  animation: mesh-drift 20s ease-in-out infinite;
}

.light .gradient-mesh-animated {
  background-image:
    radial-gradient(ellipse at 20% 20%, rgba(13, 148, 136, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 10%, rgba(96, 165, 250, 0.04) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 80%, rgba(52, 211, 153, 0.03) 0%, transparent 50%),
    radial-gradient(ellipse at 90% 70%, rgba(168, 85, 247, 0.02) 0%, transparent 40%);
}

/* ── CARD HOVER ── */
.card-hover {
  transition:
    box-shadow var(--duration-slow) var(--ease-out-expo),
    transform var(--duration-slow) var(--ease-out-expo);
}
.card-hover:hover {
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-2px);
}

/* ── INNER LIGHT ── Top-edge luminosity */
.inner-light {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
}
.light .inner-light {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

/* ── GRADIENT BORDER ── */
.gradient-border {
  background: linear-gradient(var(--bg-surface), var(--bg-surface)) padding-box,
              var(--gradient-accent) border-box;
  border: 1px solid transparent;
}
.light .gradient-border {
  background: linear-gradient(var(--bg-surface), var(--bg-surface)) padding-box,
              linear-gradient(135deg, #0d9488, #0284c7) border-box;
  border: 1px solid transparent;
}

/* ── DOT GRID ── Subtle background pattern */
.dot-grid {
  background-image: radial-gradient(circle, var(--border-subtle) 0.5px, transparent 0.5px);
  background-size: 32px 32px;
}
.light .dot-grid {
  background-image: radial-gradient(circle, rgba(0, 0, 0, 0.05) 0.5px, transparent 0.5px);
  background-size: 32px 32px;
}

/* ── TITLE GLOW ── */
.title-glow {
  text-shadow: 0 0 60px rgba(45, 212, 191, 0.12);
}
.light .title-glow {
  text-shadow: 0 0 60px rgba(13, 148, 136, 0.08);
}

/* ── CAPTURE INPUT ── Focus ring */
.capture-input {
  transition:
    box-shadow var(--duration-slow) var(--ease-out-expo),
    border-color var(--duration-slow) var(--ease-soft);
}

.capture-input:focus-within {
  border-color: var(--accent-border);
  box-shadow: var(--shadow-glow);
}

.light .capture-input:focus-within {
  border-color: rgba(13, 148, 136, 0.20);
  box-shadow:
    0 0 40px rgba(13, 148, 136, 0.04),
    0 0 0 1px rgba(13, 148, 136, 0.08),
    0 4px 16px rgba(0, 0, 0, 0.03);
}

/* ── COMPLETED TEXT ── */
.completed-text {
  text-decoration: line-through;
  text-decoration-color: var(--text-disabled);
  text-decoration-thickness: 1px;
  color: var(--text-muted);
}

/* ── NOISE TEXTURE ── */
.texture-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.008;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ZEN FLOW ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Float in from below — primary entrance animation */
@keyframes zen-float-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.animate-zen-float-up {
  animation: zen-float-up 0.6s var(--ease-out-expo) both;
}

/* Subtle pulse for inbox badge */
@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
.animate-pulse-subtle {
  animation: pulse-subtle 3s ease-in-out infinite;
}

/* Check bounce */
@keyframes check-bounce {
  0% { transform: scale(0.7); opacity: 0; }
  50% { transform: scale(1.15); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-check {
  animation: check-bounce 0.5s var(--ease-spring);
}

/* Completion flash — Zen: soft expanding ring */
@keyframes completion-flash {
  0% { box-shadow: 0 0 0 0 rgba(52, 211, 153, 0.25); }
  70% { box-shadow: 0 0 0 10px rgba(52, 211, 153, 0); }
  100% { box-shadow: 0 0 0 10px rgba(52, 211, 153, 0); }
}
.animate-completion-flash {
  animation: completion-flash 0.8s ease-out;
}

/* Slide out/in */
@keyframes slide-out-right {
  0% { transform: translateX(0); opacity: 1; }
  100% { transform: translateX(30px); opacity: 0; }
}
.animate-slide-out {
  animation: slide-out-right 0.3s var(--ease-out-expo) forwards;
}

@keyframes slide-in-left {
  0% { transform: translateX(-30px); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}
.animate-slide-in {
  animation: slide-in-left 0.3s var(--ease-out-expo);
}

/* Strikethrough */
@keyframes strike {
  0% { text-decoration-color: transparent; }
  100% { text-decoration-color: var(--text-disabled); }
}
.animate-strike {
  animation: strike 0.4s ease-out forwards;
  text-decoration: line-through;
  text-decoration-thickness: 1px;
}

/* Logo breathing */
@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.04); }
}
.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

/* Glow effects */
.glow-primary {
  box-shadow: 0 0 30px var(--accent-glow), 0 0 80px rgba(45, 212, 191, 0.03);
}
.glow-capture {
  box-shadow: 0 0 30px var(--layer-capture-glow);
}
.glow-process {
  box-shadow: 0 0 30px var(--layer-process-glow);
}
.glow-commit {
  box-shadow: 0 0 30px var(--layer-commit-glow);
}
.light .glow-primary {
  box-shadow: 0 0 20px rgba(13, 148, 136, 0.06);
}

/* ── FLOW LINE ──
   Animated connection line for the 3-step flow */
@keyframes flow-line-pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.7; }
}
.flow-line {
  background: linear-gradient(90deg,
    var(--layer-capture) 0%,
    var(--layer-process) 50%,
    var(--layer-commit) 100%
  );
  animation: flow-line-pulse 3s ease-in-out infinite;
}

/* ── STAGGER DELAYS for entrance animations ── */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.10s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.20s; }
.stagger-5 { animation-delay: 0.25s; }
.stagger-6 { animation-delay: 0.30s; }

/* ═══════════════════════════════════════════════════════════════════════════
   SHADCN BASE LAYER
   ═══════════════════════════════════════════════════════════════════════════ */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
